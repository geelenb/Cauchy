<!DOCTYPE html>
<!--suppress ALL -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Visualizing closed loop poles</title>
    <link href="index.css" rel="stylesheet"/>

    <!--    <script src="math.min.js"></script>-->
    <script src="node_modules/mathjs/lib/browser/math.js"></script>
    <script src="fraction.min.js"></script>
    <script src="complex.min.js"></script>
    <script src="polynomial.js"></script>
</head>
<body>
<h1>Visualizing closed loop poles</h1>

<div class="column">
    <h3>s-plane</h3>
    <canvas id="input_canvas"></canvas>
    <p>
        Add or remove zeros and poles by left- and right-clicking.
    </p>
    <div style="width: 11ch; display: inline-block; text-align: left;">
        K = 10<sup><span id="k_pow_span"></span></sup>
    </div>
    <br>
    <input id="krange" max="2" min="-2" step='.01' style="width: 250px; min-width: 50%; max-width: 100%;" type="range">
    <p id="pz_table"></p>
</div>

<div class="column">
    <h3>w-plane</h3>
    <canvas id="output_canvas"></canvas>
    <p>
        The blue point s is mapped to the w-plane by the function KG(s).
        Similarly, a contour is mapped to a plot.
    </p>
    <p>
        Interaction mode:
    </p>
    <p style="text-align: left">
        <input checked data-mode="origin" id="rb_origin" name="interactiontype"
               type="radio">
        <label for="rb_origin">s = 0</label><br>
        <input data-mode="interactive" id="rb_interactive" name="interactiontype"
               type="radio">
        <label for="rb_interactive">Interactive</label><br>
        <input data-mode="orbit_zero" id="rb_zero" name="interactiontype" type="radio">
        <label for="rb_zero">Orbit a zero</label><br>
        <input data-mode="orbit_pole" id="rb_pole" name="interactiontype" type="radio">
        <label for="rb_pole">Orbit a pole</label><br>
        <input data-mode="nyquist" id="rb_nyquist" name="interactiontype" type="radio">
        <label for="rb_nyquist">Nyquist contour</label><br>
    </p>
</div>

<div class="column">
    <h3>Bode Plot</h3>
    <canvas id="bode_canvas"></canvas>
    <p id="G_equation"></p>
</div>

<div class="column">
    <h3>Root locus</h3>
    <canvas id="rlocus_canvas"></canvas>
    <p>
        Shows the zeros of 1+KG(s) = 0 for every positive K.
        <br>
        <button id='increase_range'>Enlarge range of Ks</button>
        <button id='increase_resolution'>Increase resolution of Ks</button>
    </p>
</div>

<div id="credits" style="text-align: center">
    Made by Bram Geelen @ ESAT - STADIUS.
    <br>
    Source code at <a href="https://gitlab.esat.kuleuven.be/Bram.Geelen/cauchy" target="_blank">gitlab.esat.kuleuven.be/Bram.Geelen/cauchy</a>
    <br>
    Uses
    <a href="https://mathjs.org/" target="_blank">Math.js</a>,
    <a href="https://github.com/infusion/Fraction.js/" target="_blank">fraction.js</a>
    <a href="https://github.com/infusion/complex.js/" target="_blank">complex.js</a> and
    <a href="https://github.com/infusion/polynomial.js/" target="_blank">polynomial.js</a> .
</div>

<script src="index.js"></script>
</body>

<!--
TODO:
- op welk punt staat de muis?
- disable stuff
    - hide bode plot
    - hide root locus button
-->
</html>
